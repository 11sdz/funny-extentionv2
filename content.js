const ticketsTitles = [
    "החיבור לרשת האוניברסיטה לא עובד, אני כבר שוקל לחבר את המחשב לאוטובוס הבא שעובר ליד",
    "המסך שלי כועס עלי, הוא רק מציג תמונות של פסטה – אולי אני צריך לנסות להאכיל אותו?",
    "החיבור של האינטרנט לא יציב, ניסיתי לחבר אותו לים כדי שיתקרר, אבל זה לא עזר",
    "המחשב שלי מצפצף כל פעם שאני פותח את המייל, זה בגלל שכתבתי לו 'חופשה ביוון'?",
    "הדפדפן שלי לא פותח דפים, אני כבר חושב לשלוח אותו ללקוח הבא במונית",
    "המערכת שלי נתקעה, ניסיתי לחבר אותה למסעדת סושי, אולי זה יעזור לה להחלים",
    "לא מצליח להתחבר לרשת האוניברסיטה, אולי יש איזה מסעדת המבורגר בסביבה עם אינטרנט טוב יותר?",
    "הייתי רוצה להדפיס עבודה, אבל המדפסת שלי חושבת שהיא במופע של Cirque du Soleil",
    "המחשב שלי לא מגיב, ניסיתי לשים אותו על חוף ים כדי שיתפוס קצת אוויר צח – זה לא עבד",
    "המערכת שלי סופגת יותר קריסות ממה שהאוטובוסים סופגים בתל אביב ב-8 בבוקר",
    "הכרטיס שלי לא נקרא, אולי הוא פשוט שואל אותי אם בא לי לאכול פלאפל עכשיו?",
    "המדפסת שלי מדפיסה רק דפים ריקים, אולי היא מחפשת את המסעדה האמיתית שלה?",
    "החיבור לרשת האוניברסיטה זז כמו ההליכה שלי אחרי ארוחת צהריים – איטי ובלי כוח",
    "המערכת לא עולה, ניסיתי להחיות אותה עם איירוניק – אולי עכשיו זה יעבוד",
    "ההגדרות שלי נעלמו, כנראה שהן יצאו לאכול גלידה בים",
    "החיבור שלי לאינטרנט קורס כל שנייה, אולי המחשב שלי צריך חופשה מהמבחנים?",
    "ההגדרות לא שמות לי להיכנס, אולי אני צריך לבקש סליחה מהמחשב קודם?",
    "העכבר שלי לא עובד, אולי הוא מצא את עצמו בדרך למסעדת סושי חדשה",
    "המערכת שלי קרסה אחרי ששלחתי לה בקשה להוריד סרטים, כנראה היא ראתה 'האחים סופר' ולא עשתה טובה",
    "הכיסא שלי נשבר, כנראה גם הוא עובר עכשיו חופשה באי טרופי",
    "הדפדפן שלי חושב שהוא מתמודד בתחרות מהירות – כל פעם שהוא פותח אתר, אני מרגיש כאילו אני רץ מרתון",
    "לא מצליח להדפיס את העבודה, אולי המדפסת שלי חיפשה חוף ים טוב לחפש בו את הסטייל שלה",
    "המערכת שלי דורשת עדכון, אבל אני לא בטוח אם היא רק רוצה לדעת איפה אני אוכל היום",
    "המסך שלי נשאר שחור, אני שוקל לקחת אותו למסעדת דגים – אולי שם יתחיל להראות משהו",
    "הכרטיס שלי לא נקרא, ניסיתי להחזיר אותו לאחור לאוטובוס – אולי זה יעזור",
    "לא מצליח לשלוח את המייל, אולי המחשב שלי ממתין לסרט אקשן לפני שיעבוד",
    "המדפסת שלי מסרבת להדפיס, אולי היא רוצה רק לשתות קפה בבית קפה פתוח",
    "המחשב שלי מתפוצץ עם רעשים, כנראה הוא מנסה לברוח לאי בודד",
    "החיבור לאינטרנט זז כמו רכבת עם גז, כל כך איטי שכבר אני שוקל לנסוע ברגל",
    "המערכת שלי לא מגיבה, אני כבר חושב לשלוח אותה לסרט 'המחשב שלי בורח'",
    "הדפדפן שלי לא טוען את הדפים, כנראה הוא מנסה לברוח מהעבודה וללכת לים",
    "הכונן שלי נתקע, אולי הוא ממתין לאישור ממני לפני שהוא עובר לנפוש על חוף הים",
    "החיבור שלי לא עובד, ניסיתי לחבר אותו למסעדת פסטה, אבל הוא לא השתכנע"
  ];

const input = document.querySelector(
    "body > table > tbody > tr.tbody > td > form > table > tbody > tr:nth-child(4) > td > font > input[type='text']"
);
const rawValue = input?.value || "";
const numberOnly = Number(rawValue.match(/\d+/)?.[0]); // Extracts first number sequence
console.log(numberOnly); // e.g., "123"

const idx = Math.floor(Math.random()*numberOnly); // Calculate index based on the number

console.log(idx);

function getTicketTd(index) {
    const trIndex = 5 + (index) * 2;
    const selector = "body > table > tbody > tr.tbody > td > form > table > tbody > tr:nth-child("+trIndex+") > td:nth-child(2)";
    return document.querySelector(selector);
}

// Example: change title of 3rd ticket
const td = getTicketTd(idx);

console.log(td); // e.g., <td>Ticket Title</td>

if (td) {
    const titleId = Math.floor(Math.random()*ticketsTitles.length); // Calculate index based on the number
    const newTitle = ticketsTitles[titleId]; // Get the new title from the funnyList
    td.querySelector("font[size='2']").textContent = newTitle;
  }

